# Bare Metal Facebook Chatbot

This is a very basic chatbot, demonstrating how to create a Facebook chatbot backend without any framework wrapping and hiding all the magic magic.

## Deploy and connect with Facebook

The following steps are required to deplpoy this application as an AWS lambda and to connect it to your Facebook application in order to answer your Facebook page's message requests for you.

### Verify your AWS account has required rights

TODO: link to other docu?

### Create Facebook app

### Deploy secrets to AWS

Your applications needs three secrets in order to communicate with your community through the Facebook messenger. Once deployed to AWS they will be available in your lambda applications.

- Verify Token: Self chosen token, only you know, to verify the request was sent by your application
- Page Access Token: Secret token, generated by Facebook, which lets you interact with your page's users
- App Secret: Secret to validate Facebook's messages integrity

1. Go to AWS web console
2. Navigate to your API Gateway
3. Click on Stages in the left sidebar
4. Chose your stage
5. Switch to Stage Variables
6. Add the secrets described above
    1. `facebook_verify_token` was chosen by you when setting up webhooks 
    2. `facebook_access_token` can be found at the Facebook app's dashboard at Messenger -> Token Generation: https://developers.facebook.com/apps/{fb-app-id}/messenger/
    3. `facebook_app_secret` can be found at your Facebook app's dashboard: https://developers.facebook.com/apps/{fb-app-id}/dashboard/

### Deploy this application as lambda using claudia.js